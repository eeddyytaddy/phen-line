# 基礎映像
FROM python:3.11.9-slim

# 安裝系統依賴（同原 Dockerfile）
RUN apt-get update && \
    apt-get install -y build-essential git && \
    rm -rf /var/lib/apt/lists/*

# 複製並安裝依賴
WORKDIR /usr/src/app
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# 複製程式碼
COPY . .

# 預設以 root 執行；不切換到 appuser

# 容器啟動後會被自訂 Start Command 覆寫
CMD ["bash", "-c", "sleep infinity"]
